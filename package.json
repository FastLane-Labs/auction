{
  "name": "pflsc",
  "version": "1.0.0",
  "main": "index.js",
  "scripts": {
    "expenv": "export $(grep -v '^#' .env | xargs)",
    "source": "source .env",
    "allexport": "set -o allexport; source .env; set +o allexport",
    "reinstall": "rm -rf node_modules && rm -f yarn.lock && yarn clean && yarn",
    "clean": "rm -rf build cache coverage coverage.json test-results.xml && forge clean",
    "clean-deployed": "rm -rf abis && rm -f .openzeppelin/unknown-31337.json && rm -f .openzeppelin/mumbai.json",
    "coverage": "forge coverage --report lcov && genhtml lcov.info -o report --branch-coverage && open report/index.html",
    "clean-test": "rm -rf abis .openzeppelin/${npm_config_network:-'unknown-31337'}.json deployments/${npm_config_network:-hardhat}/*.json test-results.xml",
    "verify": "yarn hint && yarn test",
    "compile": "hardhat --show-stack-traces --max-memory 8192 compile",
    "test": "yarn clean-test && hardhat test --show-stack-traces && yarn clean-test",
    "test-only": "yarn clean-test && hardhat test --show-stack-traces",
    "watch-test": "hardhat watch test",
    "hint": "solhint \"contracts/**/*.sol\"",
    "hh-coverage": "yarn clean-test && hardhat --show-stack-traces coverage --temp coverage_build && yarn clean-test",
    "hardhat_gas": "REPORT_GAS=true hardhat test",
    "gas": "forge test -vv --gas-report",
    "ftest": "source .env && forge test -vvv --gas-report",
    "ftest-ci": "forge test -vvvv --no-match-path '*legacy*'",
    "ftest-fork": "source .env && forge test -vvv --fork-url ${ALCHEMY_APIKEY_MUMBAI} --fork-block-number 26702726 --gas-report",
    "ftrpc": "forge test -vv --ffi",
    "start": "hardhat node --port 8545",
    "anvil": "anvil",
    "anvil-mumbai": "anvil -f $ALCHEMY_APIKEY_MUMBAI",
    "anvil-polygon": "anvil -f $ALCHEMY_APIKEY_POLYGON",
    "anvil-polygon-old": "source .env && anvil -f $ALCHEMY_APIKEY_POLYGON --fork-block-number 32499027",
    "mythril-local": "myth analyze contracts/legacy/FastLaneLegacyAuction.sol",
    "mythril-docker": "docker run -it --rm -v$(pwd):/home/mythril mythril/myth -v4 analyze contracts/legacy/FastLaneLegacyAuction.sol --solc-json mythril.config.json --solv 0.8.15",
    "mappings": "forge remappings > remappings.txt",
    "deploy": "yarn clean-test && hardhat deploy",
    "deploy-only": "hardhat deploy --tags",
    "gen-docs": "solidity-docgen -i contracts -o docs",
    "gen-legacy-inheritance": "slither contracts/legacy/FastLaneLegacyAuction.sol --print inheritance-graph",
    "gen-legacy-interface": "cast interface -n IFastLaneAuction -o contracts/interfaces/IFastLaneAuction.sol ./out/FastLaneAuction.sol/FastLaneAuction.json",
    "gen-legacy-abi": "jq '.abi' out/FastLaneAuction.sol/FastLaneAuction.json > contracts/abis/FastLaneAuctionAbi.json",
    "gen-relay-inheritance": "slither contracts/auction-handler/FastLaneAuctionHandler.sol --print inheritance-graph",
    "gen-relay-interface": "cast interface -n IFastLaneAuctionHandler -o contracts/interfaces/IFastLaneAuctionHandler.sol ./out/FastLaneAuctionHandler.sol/FastLaneAuctionHandler.json",
    "gen-relay-abi": "jq '.abi' out/FastLaneAuctionHandler.sol/FastLaneAuctionHandler.json > contracts/abis/FastLaneAuctionHandlerAbi.json",
    
    "slither": "slither . --compile-force-framework foundry --filter-paths 'test|lib'",
    "snapshot": "source .env && forge snapshot -vvv --gas-report",
    "gen-prepush": "yarn gen-inheritance && yarn gen-interface && yarn gen-abi",
    "sizes": "forge build --sizes",
    "relayTest": "forge test -vvv --match-contract PFLAuctionHandlerTest",
    "snapshot-relay": "source .env && forge snapshot -vvv --match-contract PFLAuctionHandlerTest --gas-report",
    "auction-legacy-Test": "forge test -vvv --match-contract PFLAuctionTest",
    "solc": "solc-select install 0.8.16 && solc-select use 0.8.16",
    "layout": "slither-read-storage contracts/legacy/FastLaneLegacyAuction.sol 0xc71cf7eb2839d864f356da13ebe22883fcbc9b0f --layout --solc-remaps 'ds-test/=./lib/forge-std/lib/ds-test/src/ eth-gas-reporter/=./node_modules/eth-gas-reporter/ forge-std/=./lib/forge-std/src/ hardhat/=./node_modules/hardhat/ openzeppelin-contracts/=./lib/openzeppelin-contracts/  openzeppelin-contracts-upgradeable/=./lib/openzeppelin-contracts-upgradeable/  solmate/=./lib/solmate/src/' --rpc-url http://localhost:8545 2> .storage-layout",
    "layout-relay": "slither-read-storage contracts/auction-handler/FastLaneAuctionHandler.sol 0x7D8Ade77A347Ba6ee34eac0f825Fc37B0A66B268 --layout --solc-remaps 'openzeppelin-contracts/=./lib/openzeppelin-contracts/ solmate/=./lib/solmate/src/' --rpc-url http://localhost:8545 2> .storage-relay-layout",
    
    "anvil-fork-polygon": "source .env && anvil --fork-url ${POLYGON_RPC_URL}",
    "deploy-auction-2-anvil": "source .env && forge script script/Auction2Deploy.s.sol:Deploy --fork-url http://localhost:8545 --broadcast",
    "deploy-auction-2-polygon": "source .env && forge script script/Auction2Deploy.s.sol:Deploy --rpc-url $POLYGON_RPC_URL --broadcast",

    "deploy-anvil-factory": "source .env && forge script script/PreProxyDeploy.s.sol:Deploy --fork-url http://localhost:8545 --private-key $TESTNET_KEY --broadcast",
    "deploy-anvil-eoa": "source .env && forge script script/EOADeploy.s.sol:Deploy --fork-url http://localhost:8545  --private-key $TESTNET_KEY --broadcast",
    "deploy-anvil-proxy": "source .env && forge script script/UUPSDeploy.s.sol:Deploy --fork-url http://localhost:8545  --private-key $TESTNET_KEY --broadcast",
    "deploy-live-beta-proxy": "source .env && forge script script/UUPSDeploy.s.sol:Deploy --rpc-url $ALCHEMY_APIKEY_POLYGON --private-key $TESTNET_KEY --broadcast --etherscan-api-key $POLYGONSCAN_APIKEY --verify --gas-price 50000000000 --with-gas-price 50000000000",
    "deploy-live-trial-eoa": "source .env && forge script script/EOADeploy.s.sol:Deploy --rpc-url $ALCHEMY_APIKEY_POLYGON --private-key $TESTNET_KEY --broadcast --etherscan-api-key $POLYGONSCAN_APIKEY --verify --gas-price 50000000000 --with-gas-price 50000000000"
  },
  "devDependencies": {
    "@nomiclabs/hardhat-ethers": "^2.0.6",
    "@nomiclabs/hardhat-etherscan": "^3.0.4",
    "chai": "^4.3.6",
    "chalk": "^5.0.1",
    "debug": "^4.3.4",
    "dotenv": "^16.0.1",
    "eslint": "^8.17.0",
    "eslint-plugin-jest": "^26.4.6",
    "ethers": "^5.6.8",
    "ganache-cli": "^6.12.2",
    "hardhat": "^2.9.7",
    "hardhat-abi-exporter": "^2.9.0",
    "hardhat-gas-reporter": "^1.0.8",
    "hardhat-preprocessor": "^0.1.4",
    "husky": "^8.0.1",
    "lodash": "^4.17.21",
    "solc": "^0.8.16",
    "solhint": "^3.3.7",
    "solhint-plugin-prettier": "^0.0.5",
    "solidity-coverage": "^0.7.21",
    "solidity-docgen": "^0.6.0-beta.25",
    "typechain": "^8.1.0",
    "typescript": "^4.7.3"
  },
  "dependencies": {
    "dateformat": "^5.0.3",
    "hardhat-watcher": "^2.3.0",
    "moment": "^2.29.3",
    "sleep-promise": "^9.1.0"
  }
}
